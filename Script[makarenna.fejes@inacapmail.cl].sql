
CREACION DE TABLAS

CREATE TABLE CLIENTE(
    RUT_CLIENTE VARCHAR(30),
    NOM_CLIENTE VARCHAR(30) NOT NULL,
    CONSTRAINT CLIENTE_PK PRIMARY KEY (RUT_CLIENTE)
);

CREATE TABLE SECRETARIA(
    RUT_SECRETARIA VARCHAR(30),
    NOM_SECRETARIA VARCHAR(30) NOT NULL,
    CONSTRAINT SECRETARIA_PK PRIMARY KEY (RUT_SECRETARIA)
);

CREATE TABLE TECNICO(
    RUT_TEC VARCHAR(30),
    NOM_TEC VARCHAR(30) NOT NULL,
    CONSTRAINT TECNICO_PK PRIMARY KEY (RUT_TEC)
);

CREATE TABLE SUPERVISOR(
    RUT_SUPERVISOR VARCHAR(30),
    NOM_SUPERVISOR VARCHAR(30) NOT NULL,
    CONSTRAINT SUPERVISOR_PK PRIMARY KEY (RUT_SUPERVISOR)
);

CREATE TABLE EQUIPO(
    ID_EQUIPO INT,
    FECHA DATE,
    CLIENTE_RUT_CLIENTE VARCHAR(30),
    SECRETARIA_RUT_SECRETARIA VARCHAR(30),
  	CONSTRAINT EQUIPO_PK PRIMARY KEY (ID_EQUIPO),
  	CONSTRAINT EQUIPO_CLIENTE_FK FOREIGN KEY (CLIENTE_RUT_CLIENTE) REFERENCES CLIENTE(RUT_CLIENTE),
  	CONSTRAINT EQUIPO_SECRETARIA_FK FOREIGN KEY (SECRETARIA_RUT_SECRETARIA) REFERENCES SECRETARIA(RUT_SECRETARIA)
);

CREATE TABLE REG_MANT(
    ID_REG INT,
    FECHA DATE,
    EQUIPO_ID_EQUIPO INT,
    TECNICO_RUT_TEC VARCHAR(30),
    SUPERVISOR_RUT_SUPERVISOR VARCHAR(30),
    CONSTRAINT REG_MANT_PK PRIMARY KEY (ID_REG),
    CONSTRAINT REG_MANT_EQUIPO_FK FOREIGN KEY (EQUIPO_ID_EQUIPO) REFERENCES EQUIPO(ID_EQUIPO),
    CONSTRAINT REG_MANT_TECNICO_FK FOREIGN KEY (TECNICO_RUT_TEC) REFERENCES TECNICO(RUT_TEC),
    CONSTRAINT REG_MANT_SUPERVISOR_FK FOREIGN KEY (SUPERVISOR_RUT_SUPERVISOR) REFERENCES SUPERVISOR(RUT_SUPERVISOR)
);

CREATE TABLE BOLETA(
    NUM_BOLETA INT,
    FECHA DATE,
    CONSTRAINT BOLETA_PK PRIMARY KEY (NUM_BOLETA)
);

CREATE TABLE SERVICIO_MANT(
    ID_SERV INT,
    NOM_SERV_MANT VARCHAR(30) NOT NULL,
    VALOR_SERV_MANT INT,
    REG_MANT_ID_REG INT,
    BOLETA_NUM_BOLETA INT,
    CONSTRAINT SERVICIO_MANT_PK PRIMARY KEY (ID_SERV),
    CONSTRAINT SERVICIO_MANT_REG_MANT_FK FOREIGN KEY (REG_MANT_ID_REG) REFERENCES REG_MANT(ID_REG),
    CONSTRAINT SERVICIO_MANT_BOLETA_FK FOREIGN KEY (BOLETA_NUM_BOLETA) REFERENCES BOLETA(NUM_BOLETA)
);




INSERT INTO CLIENTE VALUES ('000', 'NOEL')
INSERT INTO CLIENTE VALUES ('001', 'KATA')
INSERT INTO CLIENTE VALUES ('002', 'SWAIN')
INSERT INTO CLIENTE VALUES ('003', 'MAKA')

INSERT INTO SECRETARIA VALUES ('15828955', 'ANNE')
INSERT INTO SECRETARIA VALUES ('23325569', 'JANA')
INSERT INTO SECRETARIA VALUES ('77855899', 'DAISY')
INSERT INTO SECRETARIA VALUES ('22458966', 'GWENN')

INSERT INTO SUPERVISOR VALUES ('023', 'SETT')
INSERT INTO SUPERVISOR VALUES ('024', 'MAX')
INSERT INTO SUPERVISOR VALUES ('025', 'KEVIN')
INSERT INTO SUPERVISOR VALUES ('026', 'LEVI')

INSERT INTO TECNICO VALUES ('002', 'LYDIA')
INSERT INTO TECNICO VALUES ('003', 'LEYLA')
INSERT INTO TECNICO VALUES ('004', 'RAKAN')
INSERT INTO TECNICO VALUES ('005', 'GOLEM')

INSERT INTO EQUIPO VALUES (01, '25-07-2021', '000', '15828955')
INSERT INTO EQUIPO VALUES (02, '26-07-2021', '001', '23325569')
INSERT INTO EQUIPO VALUES (03, '27-07-2021', '002', '77855899')
INSERT INTO EQUIPO VALUES (04, '27-07-2021', '003', '22458966')

INSERT INTO REG_MANT VALUES (012, '25-07-2021', 01, '002', '023')
INSERT INTO REG_MANT VALUES (013, '26-07-2021', 02, '003', '024')
INSERT INTO REG_MANT VALUES (014, '27-07-2021', 03, '004', '025')
INSERT INTO REG_MANT VALUES (015, '27-07-2021', 04, '005', '026')

INSERT INTO BOLETA VALUES (020, '25-7-2021')
INSERT INTO BOLETA VALUES (021, '26-7-2021')
INSERT INTO BOLETA VALUES (022, '27-7-2021')
INSERT INTO BOLETA VALUES (023, '28-7-2021')


INSERT INTO SERVICIO_MANT VALUES (020, 'OPTIMIZACION', 10000, 012, 020)
INSERT INTO SERVICIO_MANT VALUES (021, 'CAMBIO DE PIEZA', 15000, 013, 021)
INSERT INTO SERVICIO_MANT VALUES (022, 'LIMPIEZA', 20000, 014, 022)
INSERT INTO SERVICIO_MANT VALUES (023, 'AJUSTES', 15500, 015, 023)



SELECT * FROM CLIENTE

SELECT * FROM EQUIPO

SELECT * FROM REG_MANT

SELECT * FROM SERVICIO_MANT




